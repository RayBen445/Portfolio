<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cool Shot Systems - Home</title>
    <meta name="description" content="Home page of Cool Shot Systems">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <span class="logo-text">Cool Shot Systems</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link active">Home</a>
                </li>
                <li class="nav-item">
                    <a href="projects.html" class="nav-link">Projects</a>
                </li>
                <li class="nav-item">
                    <a href="skills.html" class="nav-link">Skills</a>
                </li>
                <li class="nav-item">
                    <a href="contact.html" class="nav-link">Contact</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span><span class="bar"></span><span class="bar"></span>
            </div>
        </div>
    </nav>
    <section class="hero">
        <div class="hero-container">
             <div class="hero-content">
                <h1 class="hero-title">Welcome to Cool Shot Systems</h1>
                <p class="hero-subtitle">Innovating solutions, one project at a time.</p>
                <a href="projects.html" class="btn">View My Work</a>
            </div>
        </div>
    </section>
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Cool Shot Systems. All rights reserved.</p>
        </div>
    </footer>
    <script src="shared.js"></script>
    <script src="script.js"></script>
</body>
</html>    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2024 RayBen445. All rights reserved.</p>
                <div class="footer-links">
                    <a href="projects.html">Projects</a>
                    <a href="skills.html">Skills</a>
                    <a href="ai-images.html">AI Images</a>
                    <a href="ai-text.html">AI Text</a>
                    <a href="support.html">Support</a>
                    <a href="contact.html">Contact</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="shared.js"></script>
    <script>
        // Background Music Control
        document.addEventListener('DOMContentLoaded', function() {
            // Audio elements
            const backgroundMusic = document.getElementById('backgroundMusic');
            let audioContext = null;
            let oscillator = null;
            let gainNode = null;
            let isPlaying = false;
            let isMuted = false;
            let useWebAudioFallback = false;

            const playPauseBtn = document.getElementById('playPauseBtn');
            const muteBtn = document.getElementById('muteBtn');
            const volumeSlider = document.getElementById('volumeSlider');
            const musicControl = document.getElementById('musicControl');

            // Check if the audio file can be loaded
            backgroundMusic.addEventListener('error', function() {
                console.log('Audio file failed to load, using Web Audio API fallback');
                useWebAudioFallback = true;
            });

            backgroundMusic.addEventListener('canplay', function() {
                console.log('Audio file loaded successfully');
                useWebAudioFallback = false;
            });

            // Initialize Web Audio API
            function initAudio() {
                try {
                    audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    return true;
                } catch (error) {
                    console.log('Web Audio API not supported');
                    return false;
                }
            }

            // Create a pleasant ambient sound
            function createBackgroundMusic() {
                if (!audioContext) return;

                // Create oscillators for ambient sound
                const oscillator1 = audioContext.createOscillator();
                const oscillator2 = audioContext.createOscillator();
                const gainNode1 = audioContext.createGain();
                const gainNode2 = audioContext.createGain();
                const masterGain = audioContext.createGain();

                // Set frequencies for a pleasant ambient chord
                oscillator1.frequency.setValueAtTime(220, audioContext.currentTime); // A3
                oscillator2.frequency.setValueAtTime(330, audioContext.currentTime); // E4
                
                // Use sine waves for smooth sound
                oscillator1.type = 'sine';
                oscillator2.type = 'sine';

                // Set volumes
                gainNode1.gain.setValueAtTime(0.1, audioContext.currentTime);
                gainNode2.gain.setValueAtTime(0.08, audioContext.currentTime);
                masterGain.gain.setValueAtTime(volumeSlider.value / 100, audioContext.currentTime);

                // Connect the audio graph
                oscillator1.connect(gainNode1);
                oscillator2.connect(gainNode2);
                gainNode1.connect(masterGain);
                gainNode2.connect(masterGain);
                masterGain.connect(audioContext.destination);

                // Add slight frequency modulation for movement
                const lfo = audioContext.createOscillator();
                const lfoGain = audioContext.createGain();
                lfo.frequency.setValueAtTime(0.5, audioContext.currentTime);
                lfoGain.gain.setValueAtTime(2, audioContext.currentTime);
                lfo.connect(lfoGain);
                lfoGain.connect(oscillator1.frequency);

                // Start oscillators
                oscillator1.start();
                oscillator2.start();
                lfo.start();

                // Store references
                oscillator = { osc1: oscillator1, osc2: oscillator2, lfo: lfo };
                gainNode = masterGain;

                return true;
            }

            // Stop background music
            function stopBackgroundMusic() {
                if (oscillator) {
                    try {
                        oscillator.osc1.stop();
                        oscillator.osc2.stop();
                        oscillator.lfo.stop();
                    } catch (error) {
                        // Oscillators already stopped
                    }
                    oscillator = null;
                }
            }

            // Play/Pause functionality
            playPauseBtn.addEventListener('click', async function() {
                if (!isPlaying) {
                    // Try to play the audio file first
                    if (!useWebAudioFallback) {
                        try {
                            backgroundMusic.muted = isMuted;
                            backgroundMusic.volume = volumeSlider.value / 100;
                            await backgroundMusic.play();
                            isPlaying = true;
                            playPauseBtn.textContent = 'â¸ï¸';
                            playPauseBtn.classList.add('playing');
                            return;
                        } catch (error) {
                            console.log('Audio file playback failed, falling back to Web Audio API');
                            useWebAudioFallback = true;
                        }
                    }
                    
                    // Fallback to Web Audio API if audio file fails
                    if (useWebAudioFallback) {
                        if (!audioContext) {
                            if (!initAudio()) {
                                alert('Audio playback not supported in your browser');
                                return;
                            }
                        }

                        // Resume audio context if needed (required for some browsers)
                        if (audioContext.state === 'suspended') {
                            await audioContext.resume();
                        }

                        if (createBackgroundMusic()) {
                            isPlaying = true;
                            playPauseBtn.textContent = 'â¸ï¸';
                            playPauseBtn.classList.add('playing');
                        }
                    }
                } else {
                    // Pause currently playing audio
                    if (!useWebAudioFallback) {
                        backgroundMusic.pause();
                    } else {
                        stopBackgroundMusic();
                    }
                    isPlaying = false;
                    playPauseBtn.textContent = 'â–¶ï¸';
                    playPauseBtn.classList.remove('playing');
                }
            });

            // Mute/Unmute functionality
            muteBtn.addEventListener('click', function() {
                isMuted = !isMuted;
                muteBtn.textContent = isMuted ? 'ðŸ”‡' : 'ðŸ”Š';
                
                // Apply mute to audio file
                if (!useWebAudioFallback) {
                    backgroundMusic.muted = isMuted;
                }
                
                // Apply mute to Web Audio API
                if (gainNode) {
                    gainNode.gain.setValueAtTime(
                        isMuted ? 0 : volumeSlider.value / 100, 
                        audioContext.currentTime
                    );
                }
                
                if (isMuted) {
                    muteBtn.style.background = '#ff4444';
                } else {
                    muteBtn.style.background = 'transparent';
                }
            });

            // Volume control
            volumeSlider.addEventListener('input', function() {
                const volume = this.value / 100;
                
                // Apply volume to audio file
                if (!useWebAudioFallback) {
                    backgroundMusic.volume = volume;
                }
                
                // Apply volume to Web Audio API
                if (gainNode && !isMuted) {
                    gainNode.gain.setValueAtTime(volume, audioContext.currentTime);
                }
                
                // Update mute button based on volume
                if (this.value == 0) {
                    muteBtn.textContent = 'ðŸ”‡';
                } else {
                    muteBtn.textContent = 'ðŸ”Š';
                }
            });

            // Auto-start music on first user interaction
            let userInteracted = false;
            const enableAutoPlay = async () => {
                if (!userInteracted) {
                    userInteracted = true;
                    
                    if (!audioContext) {
                        initAudio();
                    }
                    
                    if (audioContext && audioContext.state === 'suspended') {
                        await audioContext.resume();
                    }
                    
                    // Auto-start the music
                    setTimeout(() => {
                        if (!isPlaying) {
                            playPauseBtn.click();
                        }
                    }, 500);
                }
            };

            // Listen for user interactions
            document.addEventListener('click', enableAutoPlay, { once: true });
            document.addEventListener('keydown', enableAutoPlay, { once: true });
        });

        // JavaScript playground functionality
        function runCode() {
            const code = document.getElementById('code-input').value;
            const output = document.getElementById('code-output');
            
            // Clear previous output
            output.innerHTML = '';
            
            // Create a custom console
            const customConsole = {
                log: function(...args) {
                    const div = document.createElement('div');
                    div.className = 'console-output';
                    div.textContent = args.map(arg => 
                        typeof arg === 'object' ? JSON.stringify(arg) : String(arg)
                    ).join(' ');
                    output.appendChild(div);
                },
                error: function(...args) {
                    const div = document.createElement('div');
                    div.className = 'console-error';
                    div.textContent = 'Error: ' + args.join(' ');
                    output.appendChild(div);
                }
            };
            
            try {
                // Replace console with custom console
                const wrappedCode = `
                    (function() {
                        const console = arguments[0];
                        ${code}
                    })
                `;
                const func = new Function('return ' + wrappedCode)();
                func(customConsole);
            } catch (error) {
                customConsole.error(error.message);
            }
        }
    </script>
</body>
</html>
